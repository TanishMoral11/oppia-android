# TODO(#1532): Rename file to 'BUILD' post-Gradle.
"""
This library contains the app's core source files and functionality.
Note that:
 - Most files should be built inside of app library. However, listener files, annotation
files, view files, view model files, and binding adapter files need to be manually added. The
documentation below specifies where these files should be added.
- If your file uses Data-binding views or Kotlin synthetic imports these must be removed in
order to build with Bazel.
- All binding adapters must be written in Java.
"""

load("@tools_android//tools/crashlytics:defs.bzl", "crashlytics_android_library")
load("@tools_android//tools/googleservices:defs.bzl", "google_services_xml")
load("//defs:oppia_android_library.bzl", "oppia_android_library", "oppia_android_resource_library")
load("//defs:oppia_android_test.bzl", "oppia_android_test")

filegroup(
    name = "databinding_layouts",
    srcs = glob(["src/main/res/layout*/**"]),
    visibility = ["//app/src/main/java/org/oppia/android/app/databinding:__pkg__"],
)

# Corresponds to being accessible to all app layer targets.
package_group(
    name = "app_visibility",
    packages = [
        "//app/...",
    ],
)

# Visibility for app tests.
package_group(
    name = "app_testing_visibility",
    packages = [
        "//app",
        "//app/src/main/java/org/oppia/android/app/notice/testing",
        "//app/src/main/java/org/oppia/android/app/player/exploration/testing",
        "//app/src/sharedTest/...",
        "//app/src/test/...",
    ],
)

filegroup(
    name = "manifest",
    srcs = ["src/main/AndroidManifest.xml"],
    visibility = ["//:oppia_binary_visibility"],
)

# Source files for the annotations library. The files inside the annotations library are dependencies
# for all other libraries in app module, except the listeners library.
# Place your file here if:
#  - A view, view model, or layout file depends on it
#  - It is an annotation or helper file of some kind
#  - It is not considered a listener
#  - It does not depend on any other file not included in this list

# keep sorted
ANNOTATIONS = [
    "src/main/java/org/oppia/android/app/utility/KeyboardHelper.kt",
]

# Source files for the listeners library. The files inside the listeners library are dependencies for
# all other libraries in app module, except the annotations library.
# Place your file here if:
#  - A view, view model, or layout file depends on it
#  - It is either a listener, an interface, or a direct dependency of one in this list

# keep sorted
LISTENERS = [
    "src/main/java/org/oppia/android/app/administratorcontrols/LoadAppVersionListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/LoadLearnerAnalyticsListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/LoadProfileEditListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/LoadProfileListListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/ProfileEditDeletionDialogListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/RouteToAppVersionListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/RouteToLearnerAnalyticsListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/RouteToProfileListListener.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/ShowLogoutDialogListener.kt",
    "src/main/java/org/oppia/android/app/devoptions/ForceCrashButtonClickListener.kt",
    "src/main/java/org/oppia/android/app/devoptions/RouteToForceNetworkTypeListener.kt",
    "src/main/java/org/oppia/android/app/devoptions/RouteToMarkChaptersCompletedListener.kt",
    "src/main/java/org/oppia/android/app/devoptions/RouteToMarkStoriesCompletedListener.kt",
    "src/main/java/org/oppia/android/app/devoptions/RouteToMarkTopicsCompletedListener.kt",
    "src/main/java/org/oppia/android/app/devoptions/RouteToMathExpressionParserTestListener.kt",
    "src/main/java/org/oppia/android/app/devoptions/RouteToViewEventLogsListener.kt",
    "src/main/java/org/oppia/android/app/drawer/RouteToProfileProgressListener.kt",
    "src/main/java/org/oppia/android/app/help/LoadFaqListFragmentListener.kt",
    "src/main/java/org/oppia/android/app/help/LoadLicenseListFragmentListener.kt",
    "src/main/java/org/oppia/android/app/help/LoadLicenseTextViewerFragmentListener.kt",
    "src/main/java/org/oppia/android/app/help/LoadPoliciesFragmentListener.kt",
    "src/main/java/org/oppia/android/app/help/LoadThirdPartyDependencyListFragmentListener.kt",
    "src/main/java/org/oppia/android/app/help/RouteToFAQListListener.kt",
    "src/main/java/org/oppia/android/app/help/RouteToThirdPartyDependencyListListener.kt",
    "src/main/java/org/oppia/android/app/help/faq/RouteToFAQSingleListener.kt",
    "src/main/java/org/oppia/android/app/help/thirdparty/RouteToLicenseListListener.kt",
    "src/main/java/org/oppia/android/app/help/thirdparty/RouteToLicenseTextListener.kt",
    "src/main/java/org/oppia/android/app/home/RouteToRecentlyPlayedListener.kt",
    "src/main/java/org/oppia/android/app/home/RouteToTopicListener.kt",
    "src/main/java/org/oppia/android/app/home/RouteToTopicPlayStoryListener.kt",
    "src/main/java/org/oppia/android/app/home/recentlyplayed/PromotedStoryClickListener.kt",
    "src/main/java/org/oppia/android/app/home/topiclist/TopicSummaryClickListener.kt",
    "src/main/java/org/oppia/android/app/onboarding/OnboardingNavigationListener.kt",
    "src/main/java/org/oppia/android/app/onboarding/RouteToProfileListListener.kt",
    "src/main/java/org/oppia/android/app/options/AppLanguageRadioButtonListener.kt",
    "src/main/java/org/oppia/android/app/options/AudioLanguageRadioButtonListener.kt",
    "src/main/java/org/oppia/android/app/options/LoadAppLanguageListListener.kt",
    "src/main/java/org/oppia/android/app/options/LoadAudioLanguageListListener.kt",
    "src/main/java/org/oppia/android/app/options/LoadReadingTextSizeListener.kt",
    "src/main/java/org/oppia/android/app/options/RouteToAppLanguageListListener.kt",
    "src/main/java/org/oppia/android/app/options/RouteToAudioLanguageListListener.kt",
    "src/main/java/org/oppia/android/app/options/RouteToReadingTextSizeListener.kt",
    "src/main/java/org/oppia/android/app/options/TextSizeRadioButtonListener.kt",
    "src/main/java/org/oppia/android/app/player/audio/LanguageInterface.kt",
    "src/main/java/org/oppia/android/app/player/exploration/BottomSheetOptionsMenuItemClickListener.kt",
    "src/main/java/org/oppia/android/app/player/state/answerhandling/InteractionAnswerErrorOrAvailabilityCheckReceiver.kt",
    "src/main/java/org/oppia/android/app/player/state/answerhandling/InteractionAnswerHandler.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/ContinueNavigationButtonListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/NextNavigationButtonListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/PreviousNavigationButtonListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/PreviousResponsesHeaderClickListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/ReplayButtonListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/ReturnToTopicNavigationButtonListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/RouteToHintsAndSolutionListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/StateKeyboardButtonListener.kt",
    "src/main/java/org/oppia/android/app/player/state/listener/SubmitNavigationButtonListener.kt",
    "src/main/java/org/oppia/android/app/policies/RouteToPoliciesListener.kt",
    "src/main/java/org/oppia/android/app/profile/RouteToAdminPinListener.kt",
    "src/main/java/org/oppia/android/app/profileprogress/ProfilePictureClickListener.kt",
    "src/main/java/org/oppia/android/app/profileprogress/RouteToCompletedStoryListListener.kt",
    "src/main/java/org/oppia/android/app/profileprogress/RouteToOngoingTopicListListener.kt",
    "src/main/java/org/oppia/android/app/recyclerview/OnDragEndedListener.kt",
    "src/main/java/org/oppia/android/app/recyclerview/OnItemDragListener.kt",
    "src/main/java/org/oppia/android/app/settings/profile/LoadProfileEditDeletionDialogListener.kt",
    "src/main/java/org/oppia/android/app/settings/profile/RouteToProfileEditListener.kt",
    "src/main/java/org/oppia/android/app/survey/SelectedAnswerAvailabilityReceiver.kt",
    "src/main/java/org/oppia/android/app/topic/RouteToRevisionCardListener.kt",
    "src/main/java/org/oppia/android/app/topic/lessons/ChapterSummarySelector.kt",
    "src/main/java/org/oppia/android/app/topic/lessons/StorySummarySelector.kt",
    "src/main/java/org/oppia/android/app/topic/revision/RevisionSubtopicSelector.kt",
    "src/main/java/org/oppia/android/app/topic/revisioncard/ReturnToTopicClickListener.kt",
    "src/main/java/org/oppia/android/app/utility/OnClickableAreaClickedListener.kt",
    "src/main/java/org/oppia/android/app/utility/RegionClickEvent.kt",
    "src/main/java/org/oppia/android/app/walkthrough/WalkthroughActivityListener.kt",
    "src/main/java/org/oppia/android/app/walkthrough/WalkthroughFragmentChangeListener.kt",
    "src/main/java/org/oppia/android/app/walkthrough/WalkthroughPageChanger.kt",
    "src/main/java/org/oppia/android/app/walkthrough/end/WalkthroughEndPageChanger.kt",
]

# keep sorted
VIEW_MODELS = [
    "src/main/java/org/oppia/android/app/administratorcontrols/AdministratorControlsViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsAccountActionsViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsAppInformationViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsDownloadPermissionsViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsGeneralViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsItemViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsProfileAndDeviceIdViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/administratorcontrolsitemviewmodel/AdministratorControlsProfileViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/appversion/AppVersionViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/learneranalytics/ControlButtonsViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/learneranalytics/DeviceIdItemViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/learneranalytics/ProfileLearnerIdItemViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/learneranalytics/ProfileListViewModel.kt",
    "src/main/java/org/oppia/android/app/administratorcontrols/learneranalytics/SyncStatusItemViewModel.kt",
    "src/main/java/org/oppia/android/app/completedstorylist/CompletedStoryItemViewModel.kt",
    "src/main/java/org/oppia/android/app/completedstorylist/CompletedStoryListViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/DeveloperOptionsViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/devoptionsitemviewmodel/DeveloperOptionsItemViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/devoptionsitemviewmodel/DeveloperOptionsModifyLessonProgressViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/devoptionsitemviewmodel/DeveloperOptionsOverrideAppBehaviorsViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/devoptionsitemviewmodel/DeveloperOptionsTestParsersViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/devoptionsitemviewmodel/DeveloperOptionsViewLogsViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/forcenetworktype/ForceNetworkTypeViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/forcenetworktype/NetworkTypeItemViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/markchapterscompleted/ChapterSummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/markchapterscompleted/MarkChaptersCompletedItemViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/markchapterscompleted/MarkChaptersCompletedViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/markchapterscompleted/StorySummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/markstoriescompleted/MarkStoriesCompletedViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/markstoriescompleted/StorySummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/marktopicscompleted/MarkTopicsCompletedViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/marktopicscompleted/TopicViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/mathexpressionparser/MathExpressionParserViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/vieweventlogs/EventLogItemViewModel.kt",
    "src/main/java/org/oppia/android/app/devoptions/vieweventlogs/ViewEventLogsViewModel.kt",
    "src/main/java/org/oppia/android/app/drawer/NavigationDrawerFooterViewModel.kt",
    "src/main/java/org/oppia/android/app/drawer/NavigationDrawerHeaderViewModel.kt",
    "src/main/java/org/oppia/android/app/help/HelpItemViewModel.kt",
    "src/main/java/org/oppia/android/app/help/HelpItems.kt",
    "src/main/java/org/oppia/android/app/help/HelpListViewModel.kt",
    "src/main/java/org/oppia/android/app/help/HelpViewModel.kt",
    "src/main/java/org/oppia/android/app/help/faq/FAQListViewModel.kt",
    "src/main/java/org/oppia/android/app/help/faq/faqItemViewModel/FAQContentViewModel.kt",
    "src/main/java/org/oppia/android/app/help/faq/faqItemViewModel/FAQHeaderViewModel.kt",
    "src/main/java/org/oppia/android/app/help/faq/faqItemViewModel/FAQItemViewModel.kt",
    "src/main/java/org/oppia/android/app/help/thirdparty/LicenseItemViewModel.kt",
    "src/main/java/org/oppia/android/app/help/thirdparty/LicenseListViewModel.kt",
    "src/main/java/org/oppia/android/app/help/thirdparty/LicenseTextViewModel.kt",
    "src/main/java/org/oppia/android/app/help/thirdparty/ThirdPartyDependencyItemViewModel.kt",
    "src/main/java/org/oppia/android/app/help/thirdparty/ThirdPartyDependencyListViewModel.kt",
    "src/main/java/org/oppia/android/app/hintsandsolution/HintViewModel.kt",
    "src/main/java/org/oppia/android/app/hintsandsolution/HintsAndSolutionItemViewModel.kt",
    "src/main/java/org/oppia/android/app/hintsandsolution/HintsAndSolutionViewModel.kt",
    "src/main/java/org/oppia/android/app/hintsandsolution/ReturnToLessonViewModel.kt",
    "src/main/java/org/oppia/android/app/hintsandsolution/SolutionViewModel.kt",
    "src/main/java/org/oppia/android/app/home/HomeItemViewModel.kt",
    "src/main/java/org/oppia/android/app/home/HomeViewModel.kt",
    "src/main/java/org/oppia/android/app/home/UserAppHistoryViewModel.kt",
    "src/main/java/org/oppia/android/app/home/WelcomeViewModel.kt",
    "src/main/java/org/oppia/android/app/home/promotedlist/ComingSoonTopicListViewModel.kt",
    "src/main/java/org/oppia/android/app/home/promotedlist/ComingSoonTopicsViewModel.kt",
    "src/main/java/org/oppia/android/app/home/promotedlist/PromotedStoryListViewModel.kt",
    "src/main/java/org/oppia/android/app/home/promotedlist/PromotedStoryViewModel.kt",
    "src/main/java/org/oppia/android/app/home/recentlyplayed/PromotedStoryViewModel.kt",
    "src/main/java/org/oppia/android/app/home/recentlyplayed/RecentlyPlayedItemViewModel.kt",
    "src/main/java/org/oppia/android/app/home/recentlyplayed/RecentlyPlayedViewModel.kt",
    "src/main/java/org/oppia/android/app/home/recentlyplayed/SectionTitleViewModel.kt",
    "src/main/java/org/oppia/android/app/home/topiclist/AllTopicsViewModel.kt",
    "src/main/java/org/oppia/android/app/home/topiclist/TopicSummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/onboarding/OnboadingSlideViewModel.kt",
    "src/main/java/org/oppia/android/app/onboarding/OnboardingSlideFinalViewModel.kt",
    "src/main/java/org/oppia/android/app/onboarding/OnboardingViewModel.kt",
    "src/main/java/org/oppia/android/app/onboarding/OnboardingViewPagerViewModel.kt",
    "src/main/java/org/oppia/android/app/onboarding/ViewPagerSlide.kt",
    "src/main/java/org/oppia/android/app/ongoingtopiclist/OngoingTopicItemViewModel.kt",
    "src/main/java/org/oppia/android/app/ongoingtopiclist/OngoingTopicListViewModel.kt",
    "src/main/java/org/oppia/android/app/options/AppLanguageItemViewModel.kt",
    "src/main/java/org/oppia/android/app/options/AppLanguageSelectionViewModel.kt",
    "src/main/java/org/oppia/android/app/options/AudioLanguageItemViewModel.kt",
    "src/main/java/org/oppia/android/app/options/AudioLanguageSelectionViewModel.kt",
    "src/main/java/org/oppia/android/app/options/OptionControlsViewModel.kt",
    "src/main/java/org/oppia/android/app/options/OptionsAppLanguageViewModel.kt",
    "src/main/java/org/oppia/android/app/options/OptionsAudioLanguageViewModel.kt",
    "src/main/java/org/oppia/android/app/options/OptionsItemViewModel.kt",
    "src/main/java/org/oppia/android/app/options/OptionsReadingTextSizeViewModel.kt",
    "src/main/java/org/oppia/android/app/options/ReadingTextSizeSelectionViewModel.kt",
    "src/main/java/org/oppia/android/app/options/TextSizeItemViewModel.kt",
    "src/main/java/org/oppia/android/app/parser/FractionParsingUiError.kt",
    "src/main/java/org/oppia/android/app/parser/StringToNumberParser.kt",
    "src/main/java/org/oppia/android/app/parser/StringToRatioParser.kt",
    "src/main/java/org/oppia/android/app/player/audio/AudioViewModel.kt",
    "src/main/java/org/oppia/android/app/player/exploration/ExplorationViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/StateViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/ContentViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/ContinueInteractionViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/ContinueNavigationButtonViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/DragAndDropSortInteractionViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/DragDropInteractionContentViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/FeedbackViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/FractionInteractionViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/ImageRegionSelectionInteractionViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/MathExpressionInteractionsViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/NextButtonViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/NumericInputViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/PreviousButtonViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/PreviousResponsesHeaderViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/RatioExpressionInputInteractionViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/ReplayButtonViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/ReturnToTopicButtonViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/SelectionInteractionContentViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/SelectionInteractionViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/StateItemViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/SubmitButtonViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/SubmittedAnswerViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/itemviewmodel/TextInputViewModel.kt",
    "src/main/java/org/oppia/android/app/player/state/testing/StateFragmentTestViewModel.kt",
    "src/main/java/org/oppia/android/app/profile/AddProfileViewModel.kt",
    "src/main/java/org/oppia/android/app/profile/AdminAuthViewModel.kt",
    "src/main/java/org/oppia/android/app/profile/AdminPinViewModel.kt",
    "src/main/java/org/oppia/android/app/profile/AdminSettingsViewModel.kt",
    "src/main/java/org/oppia/android/app/profile/PinPasswordViewModel.kt",
    "src/main/java/org/oppia/android/app/profile/ProfileChooserViewModel.kt",
    "src/main/java/org/oppia/android/app/profile/ResetPinViewModel.kt",
    "src/main/java/org/oppia/android/app/profileprogress/ProfilePictureActivityViewModel.kt",
    "src/main/java/org/oppia/android/app/profileprogress/ProfileProgressHeaderViewModel.kt",
    "src/main/java/org/oppia/android/app/profileprogress/ProfileProgressItemViewModel.kt",
    "src/main/java/org/oppia/android/app/profileprogress/ProfileProgressViewModel.kt",
    "src/main/java/org/oppia/android/app/profileprogress/RecentlyPlayedStorySummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/recyclerview/BindableAdapter.kt",
    "src/main/java/org/oppia/android/app/recyclerview/DividerItemDecorator.kt",
    "src/main/java/org/oppia/android/app/recyclerview/DragAndDropItemFacilitator.kt",
    "src/main/java/org/oppia/android/app/resumelesson/ResumeLessonViewModel.kt",
    "src/main/java/org/oppia/android/app/settings/profile/ProfileEditViewModel.kt",
    "src/main/java/org/oppia/android/app/settings/profile/ProfileListViewModel.kt",
    "src/main/java/org/oppia/android/app/settings/profile/ProfileRenameViewModel.kt",
    "src/main/java/org/oppia/android/app/settings/profile/ProfileResetPinViewModel.kt",
    "src/main/java/org/oppia/android/app/story/ExplorationSelectionListener.kt",
    "src/main/java/org/oppia/android/app/story/StoryFragmentScroller.kt",
    "src/main/java/org/oppia/android/app/story/StoryViewModel.kt",
    "src/main/java/org/oppia/android/app/story/storyitemviewmodel/StoryChapterSummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/story/storyitemviewmodel/StoryHeaderViewModel.kt",
    "src/main/java/org/oppia/android/app/story/storyitemviewmodel/StoryItemViewModel.kt",
    "src/main/java/org/oppia/android/app/survey/SurveyViewModel.kt",
    "src/main/java/org/oppia/android/app/survey/surveyitemviewmodel/FreeFormItemsViewModel.kt",
    "src/main/java/org/oppia/android/app/survey/surveyitemviewmodel/MarketFitItemsViewModel.kt",
    "src/main/java/org/oppia/android/app/survey/surveyitemviewmodel/MultipleChoiceOptionContentViewModel.kt",
    "src/main/java/org/oppia/android/app/survey/surveyitemviewmodel/NpsItemsViewModel.kt",
    "src/main/java/org/oppia/android/app/survey/surveyitemviewmodel/SurveyAnswerItemViewModel.kt",
    "src/main/java/org/oppia/android/app/survey/surveyitemviewmodel/UserTypeItemsViewModel.kt",
    "src/main/java/org/oppia/android/app/testing/BindableAdapterTestDataModel.kt",
    "src/main/java/org/oppia/android/app/testing/BindableAdapterTestViewModel.kt",
    "src/main/java/org/oppia/android/app/testing/CircularProgressIndicatorAdaptersTestViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/TopicViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/conceptcard/ConceptCardViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/info/TopicInfoViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/lessons/ChapterSummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/lessons/StorySummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/lessons/TopicLessonViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/lessons/TopicLessonsItemViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/lessons/TopicLessonsTitleViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/practice/TopicPracticeViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/practice/practiceitemviewmodel/TopicPracticeFooterViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/practice/practiceitemviewmodel/TopicPracticeHeaderViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/practice/practiceitemviewmodel/TopicPracticeItemViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/practice/practiceitemviewmodel/TopicPracticeSubtopicViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/questionplayer/QuestionPlayerViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/revision/TopicRevisionViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/revision/revisionitemviewmodel/TopicRevisionItemViewModel.kt",
    "src/main/java/org/oppia/android/app/topic/revisioncard/RevisionCardViewModel.kt",
    "src/main/java/org/oppia/android/app/utility/RatioExtensions.kt",
    "src/main/java/org/oppia/android/app/walkthrough/WalkthroughViewModel.kt",
    "src/main/java/org/oppia/android/app/walkthrough/end/WalkthroughFinalViewModel.kt",
    "src/main/java/org/oppia/android/app/walkthrough/topiclist/WalkthroughTopicItemViewModel.kt",
    "src/main/java/org/oppia/android/app/walkthrough/topiclist/WalkthroughTopicViewModel.kt",
    "src/main/java/org/oppia/android/app/walkthrough/topiclist/topiclistviewmodel/WalkthroughTopicHeaderViewModel.kt",
    "src/main/java/org/oppia/android/app/walkthrough/topiclist/topiclistviewmodel/WalkthroughTopicSummaryViewModel.kt",
    "src/main/java/org/oppia/android/app/walkthrough/welcome/WalkthroughWelcomeViewModel.kt",
]

# keep sorted
VIEWS = [
    "src/main/java/org/oppia/android/app/administratorcontrols/learneranalytics/CopyIdMaterialButtonView.kt",
    "src/main/java/org/oppia/android/app/customview/ChapterNotStartedContainerConstraintLayout.kt",
    "src/main/java/org/oppia/android/app/customview/ContinueButtonView.kt",
    "src/main/java/org/oppia/android/app/customview/LessonThumbnailImageView.kt",
    "src/main/java/org/oppia/android/app/customview/OppiaCurveBackgroundView.kt",
    "src/main/java/org/oppia/android/app/customview/PromotedStoryCardView.kt",
    "src/main/java/org/oppia/android/app/customview/SegmentedCircularProgressView.kt",
    "src/main/java/org/oppia/android/app/customview/VerticalDashedLineView.kt",
    "src/main/java/org/oppia/android/app/customview/interaction/FractionInputInteractionView.kt",
    "src/main/java/org/oppia/android/app/customview/interaction/MathExpressionInteractionsView.kt",
    "src/main/java/org/oppia/android/app/customview/interaction/NumericInputInteractionView.kt",
    "src/main/java/org/oppia/android/app/customview/interaction/RatioInputInteractionView.kt",
    "src/main/java/org/oppia/android/app/customview/interaction/TextInputInteractionView.kt",
    "src/main/java/org/oppia/android/app/home/promotedlist/ComingSoonTopicsListView.kt",
    "src/main/java/org/oppia/android/app/home/promotedlist/PromotedStoryListView.kt",
    "src/main/java/org/oppia/android/app/player/state/DragDropSortInteractionView.kt",
    "src/main/java/org/oppia/android/app/player/state/ImageRegionSelectionInteractionView.kt",
    "src/main/java/org/oppia/android/app/player/state/SelectionInteractionView.kt",
    "src/main/java/org/oppia/android/app/survey/SurveyMultipleChoiceOptionView.kt",
    "src/main/java/org/oppia/android/app/survey/SurveyNpsItemOptionView.kt",
    "src/main/java/org/oppia/android/app/utility/ClickableAreasImage.kt",
    "//app/src/main/java/org/oppia/android/app/view:ViewComponentImpl.kt",
]

# keep sorted
SNAP_HELPER = ["src/main/java/org/oppia/android/app/recyclerview/StartSnapHelper.kt"]

# Files to be excluded from the source list for the app library. This list includes all the files
# built by the following libraries:
# - view_models
# - views
# - listeners
# - annotations

EXCLUDED_APP_LIB_FILES = VIEW_MODELS + VIEWS + LISTENERS + ANNOTATIONS + SNAP_HELPER

# Library for non-layout resource files.
oppia_android_resource_library(
    name = "resources",
    resource_files = glob(
        ["src/main/res/**"],
        exclude = ["src/main/res/layout*/**"],
    ),
    visibility = [
        "//:oppia_binary_visibility",
        "//app:__subpackages__",
        "//app/src/main/java/org/oppia/android/app/databinding:__pkg__",
        "//instrumentation:__pkg__",
    ],
    deps = ["//third_party:com_google_android_material_material"],
)

# Library for listener files required to build views and view_model libraries.
oppia_android_library(
    name = "listeners",
    srcs = LISTENERS,
    visibility = [
        ":app_testing_visibility",
        "//app/src/main/java/org/oppia/android/app/databinding:__pkg__",
        "//app/src/main/java/org/oppia/android/app/player/exploration/testing:__pkg__",
    ],
    deps = [
        "//model/src/main/proto:arguments_java_proto_lite",
        "//model/src/main/proto:exploration_java_proto_lite",
        "//model/src/main/proto:languages_java_proto_lite",
        "//model/src/main/proto:profile_java_proto_lite",
        "//model/src/main/proto:survey_java_proto_lite",
        "//model/src/main/proto:topic_java_proto_lite",
        "//third_party:androidx_recyclerview_recyclerview",
    ],
)

# Library for all view files required to build layout files.
oppia_android_library(
    name = "views",
    srcs = VIEWS,
    visibility = [
        "//app/src/main/java/org/oppia/android/app/databinding:__pkg__",
    ],
    deps = [
        ":annotations",
        ":listeners",
        ":resources",
        ":snap_helper",
        ":view_models",
        "//app/src/main/java/org/oppia/android/app/shim:view_binding_shim",
        "//app/src/main/java/org/oppia/android/app/spotlight",
        "//app/src/main/java/org/oppia/android/app/translation:app_language_resource_handler",
        "//app/src/main/java/org/oppia/android/app/utility/lifecycle:lifecycle_safe_timer_factory",
        "//app/src/main/java/org/oppia/android/app/view:view_component",
        "//app/src/main/java/org/oppia/android/app/view:view_component_factory",
        "//app/src/main/java/org/oppia/android/app/view:view_scope",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger:oppia_logger",
        "//model/src/main/proto:interaction_object_java_proto_lite",
        "//model/src/main/proto:spotlight_java_proto_lite",
        "//model/src/main/proto:thumbnail_java_proto_lite",
        "//model/src/main/proto:translation_java_proto_lite",
        "//third_party:androidx_appcompat_appcompat",
        "//third_party:androidx_constraintlayout_constraintlayout",
        "//third_party:androidx_core_core",
        "//third_party:androidx_core_core-ktx",
        "//third_party:androidx_databinding_databinding-common",
        "//third_party:androidx_fragment_fragment",
        "//third_party:androidx_lifecycle_lifecycle-livedata-core",
        "//third_party:androidx_recyclerview_recyclerview",
        "//third_party:com_google_android_material_material",
        "//third_party:com_google_dagger_dagger",
        "//third_party:javax_inject_javax_inject",
        "//utility/src/main/java/org/oppia/android/util/accessibility",
        "//utility/src/main/java/org/oppia/android/util/gcsresource:annotations",
        "//utility/src/main/java/org/oppia/android/util/locale:oppia_locale",
        "//utility/src/main/java/org/oppia/android/util/parser/html:exploration_html_parser_entity_type",
        "//utility/src/main/java/org/oppia/android/util/parser/html:html_parser",
        "//utility/src/main/java/org/oppia/android/util/parser/image:image_loader",
        "//utility/src/main/java/org/oppia/android/util/parser/image:image_parsing_annonations",
        "//utility/src/main/java/org/oppia/android/util/parser/image:image_targets",
        "//utility/src/main/java/org/oppia/android/util/parser/image:image_transformation",
        "//utility/src/main/java/org/oppia/android/util/system:oppia_clock",
    ],
)

# Library for scope annotations required to build views and view_model libraries.
oppia_android_library(
    name = "annotations",
    srcs = ANNOTATIONS,
    visibility = ["//app/src/main/java/org/oppia/android/app/databinding:__pkg__"],
)

# Library for all view model files.
oppia_android_library(
    name = "view_models",
    srcs = VIEW_MODELS,
    visibility = [
        "//app:app_testing_visibility",
        "//app/src/main/java/org/oppia/android/app/databinding:__pkg__",
        "//app/src/main/java/org/oppia/android/app/shim:__pkg__",
    ],
    deps = [
        ":listeners",
        ":resources",
        "//app/src/main/java/org/oppia/android/app/activity:activity_scope",
        "//app/src/main/java/org/oppia/android/app/fragment:fragment_scope",
        "//app/src/main/java/org/oppia/android/app/shim:intent_factory_shim",
        "//app/src/main/java/org/oppia/android/app/translation:app_language_resource_handler",
        "//app/src/main/java/org/oppia/android/app/utility/datetime:date_time_util",
        "//app/src/main/java/org/oppia/android/app/utility/math:math_expression_accessibility_util",
        "//app/src/main/java/org/oppia/android/app/viewmodel:observable_array_list",
        "//app/src/main/java/org/oppia/android/app/viewmodel:observable_view_model",
        "//domain",
        "//domain/src/main/java/org/oppia/android/domain/audio:audio_player_controller",
        "//domain/src/main/java/org/oppia/android/domain/clipboard:clipboard_controller",
        "//domain/src/main/java/org/oppia/android/domain/onboarding:state_controller",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger:logging_identifier_controller",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger:oppia_logger",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/analytics:controller",
        "//domain/src/main/java/org/oppia/android/domain/profile:profile_management_controller",
        "//domain/src/main/java/org/oppia/android/domain/translation:translation_controller",
        "//model/src/main/proto:arguments_java_proto_lite",
        "//model/src/main/proto:event_logger_java_proto_lite",
        "//model/src/main/proto:exploration_checkpoint_java_proto_lite",
        "//model/src/main/proto:exploration_java_proto_lite",
        "//model/src/main/proto:interaction_object_java_proto_lite",
        "//model/src/main/proto:languages_java_proto_lite",
        "//model/src/main/proto:math_java_proto_lite",
        "//model/src/main/proto:profile_java_proto_lite",
        "//model/src/main/proto:subtitled_html_java_proto_lite",
        "//model/src/main/proto:subtitled_unicode_java_proto_lite",
        "//model/src/main/proto:survey_java_proto_lite",
        "//model/src/main/proto:thumbnail_java_proto_lite",
        "//model/src/main/proto:topic_java_proto_lite",
        "//model/src/main/proto:translation_java_proto_lite",
        "//model/src/main/proto:voiceover_java_proto_lite",
        "//third_party:androidx_annotation_annotation",
        "//third_party:androidx_appcompat_appcompat",
        "//third_party:androidx_databinding_databinding-common",
        "//third_party:androidx_databinding_databinding-runtime",
        "//third_party:androidx_fragment_fragment",
        "//third_party:androidx_lifecycle_lifecycle-common",
        "//third_party:androidx_lifecycle_lifecycle-livedata",
        "//third_party:androidx_lifecycle_lifecycle-livedata-core",
        "//third_party:androidx_recyclerview_recyclerview",
        "//third_party:com_google_guava_guava",
        "//third_party:com_google_protobuf_protobuf-javalite",
        "//third_party:javax_inject_javax_inject",
        "//utility/src/main/java/org/oppia/android/util/data:async_result",
        "//utility/src/main/java/org/oppia/android/util/data:data_provider",
        "//utility/src/main/java/org/oppia/android/util/data:data_providers",
        "//utility/src/main/java/org/oppia/android/util/extensions:bundle_extensions",
        "//utility/src/main/java/org/oppia/android/util/extensions:context_extensions",
        "//utility/src/main/java/org/oppia/android/util/extensions:string_extensions",
        "//utility/src/main/java/org/oppia/android/util/gcsresource:annotations",
        "//utility/src/main/java/org/oppia/android/util/locale:oppia_locale",
        "//utility/src/main/java/org/oppia/android/util/logging:sync_status_manager",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:debug_event_logger",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:debug_firestore_logger_impl",
        "//utility/src/main/java/org/oppia/android/util/math:float_extensions",
        "//utility/src/main/java/org/oppia/android/util/math:fraction_extensions",
        "//utility/src/main/java/org/oppia/android/util/math:fraction_parser",
        "//utility/src/main/java/org/oppia/android/util/math:math_expression_extensions",
        "//utility/src/main/java/org/oppia/android/util/math:math_expression_parser",
        "//utility/src/main/java/org/oppia/android/util/math:math_parsing_error",
        "//utility/src/main/java/org/oppia/android/util/math:ratio_extensions",
        "//utility/src/main/java/org/oppia/android/util/math:real_extensions",
        "//utility/src/main/java/org/oppia/android/util/networking:connection_status",
        "//utility/src/main/java/org/oppia/android/util/networking:network_connection_debug_util",
        "//utility/src/main/java/org/oppia/android/util/networking:network_connection_util",
        "//utility/src/main/java/org/oppia/android/util/parser/html:custom_html_content_handler",
        "//utility/src/main/java/org/oppia/android/util/parser/html:exploration_html_parser_entity_type",
        "//utility/src/main/java/org/oppia/android/util/parser/html:html_parser",
        "//utility/src/main/java/org/oppia/android/util/platformparameter",
    ],
)

# Library for snap helper used to build views.
oppia_android_library(
    name = "snap_helper",
    srcs = SNAP_HELPER,
    deps = ["//third_party:androidx_recyclerview_recyclerview"],
)

# Library containing all activity, fragment, and view-based UI flows in the app.
oppia_android_library(
    name = "app",
    srcs = glob(
        ["src/main/java/org/oppia/android/app/**/*.kt"],
        exclude = EXCLUDED_APP_LIB_FILES,
    ) + [
        "//app/src/main/java/org/oppia/android/app/activity:ActivityComponentImpl.kt",
        "//app/src/main/java/org/oppia/android/app/activity:ActivityIntentFactoriesModule.kt",
        "//app/src/main/java/org/oppia/android/app/activity:ActivityModule.kt",
        "//app/src/main/java/org/oppia/android/app/activity/route:ActivityRouterModule.kt",
        "//app/src/main/java/org/oppia/android/app/fragment:FragmentComponentBuilderModule.kt",
        "//app/src/main/java/org/oppia/android/app/fragment:FragmentComponentImpl.kt",
        "//app/src/main/java/org/oppia/android/app/fragment:FragmentModule.kt",
        "//app/src/main/java/org/oppia/android/app/view:ViewComponentBuilderModule.kt",
        "//app/src/main/java/org/oppia/android/app/spotlight:SpotlightFragment.kt",
    ],
    exports_manifest = True,
    manifest = ":manifest",
    visibility = ["//visibility:public"],
    deps = [
        ":view_models",
        ":views",
        "//:dagger",
        "//app:listeners",
        "//app/src/main/java/org/oppia/android/app/activity:activity_component",
        "//app/src/main/java/org/oppia/android/app/activity:activity_component_factory",
        "//app/src/main/java/org/oppia/android/app/activity:activity_intent_factories_shim",
        "//app/src/main/java/org/oppia/android/app/activity:activity_scope",
        "//app/src/main/java/org/oppia/android/app/activity:injectable_app_compat_activity",
        "//app/src/main/java/org/oppia/android/app/activity:injectable_auto_localized_app_compat_activity",
        "//app/src/main/java/org/oppia/android/app/activity:injectable_system_localized_app_compat_activity",
        "//app/src/main/java/org/oppia/android/app/activity/route:activity_router",
        "//app/src/main/java/org/oppia/android/app/databinding:databinding_resources",
        "//app/src/main/java/org/oppia/android/app/fragment:fragment_component",
        "//app/src/main/java/org/oppia/android/app/fragment:fragment_component_builder_injector",
        "//app/src/main/java/org/oppia/android/app/fragment:fragment_component_factory",
        "//app/src/main/java/org/oppia/android/app/fragment:fragment_scope",
        "//app/src/main/java/org/oppia/android/app/fragment:injectable_bottom_sheet_dialog_fragment",
        "//app/src/main/java/org/oppia/android/app/fragment:injectable_dialog_fragment",
        "//app/src/main/java/org/oppia/android/app/fragment:injectable_fragment",
        "//app/src/main/java/org/oppia/android/app/shim:prod_modules",
        "//app/src/main/java/org/oppia/android/app/spotlight",
        "//app/src/main/java/org/oppia/android/app/testing/activity:test_activity",
        "//app/src/main/java/org/oppia/android/app/translation:app_language_locale_handler",
        "//app/src/main/java/org/oppia/android/app/translation:app_language_resource_handler",
        "//app/src/main/java/org/oppia/android/app/utility/datetime:date_time_util",
        "//app/src/main/java/org/oppia/android/app/utility/lifecycle:lifecycle_safe_timer_factory",
        "//app/src/main/java/org/oppia/android/app/view:view_component",
        "//app/src/main/java/org/oppia/android/app/view:view_component_builder_injector",
        "//domain",
        "//domain/src/main/java/org/oppia/android/domain/audio:cellular_audio_dialog_controller",
        "//domain/src/main/java/org/oppia/android/domain/locale:locale_controller",
        "//domain/src/main/java/org/oppia/android/domain/onboarding:deprecation_controller",
        "//domain/src/main/java/org/oppia/android/domain/onboarding:state_controller",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger:oppia_logger",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/analytics:controller",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/analytics:learner_analytics_logger",
        "//domain/src/main/java/org/oppia/android/domain/profile:profile_management_controller",
        "//domain/src/main/java/org/oppia/android/domain/spotlight:spotlight_state_controller",
        "//domain/src/main/java/org/oppia/android/domain/survey:gating_controller",
        "//domain/src/main/java/org/oppia/android/domain/survey:survey_controller",
        "//domain/src/main/java/org/oppia/android/domain/survey:survey_progress_controller",
        "//domain/src/main/java/org/oppia/android/domain/translation:translation_controller",
        "//model/src/main/proto:arguments_java_proto_lite",
        "//model/src/main/proto:deprecation_java_proto_lite",
        "//model/src/main/proto:event_logger_java_proto_lite",
        "//model/src/main/proto:exploration_checkpoint_java_proto_lite",
        "//model/src/main/proto:exploration_java_proto_lite",
        "//model/src/main/proto:interaction_object_java_proto_lite",
        "//model/src/main/proto:languages_java_proto_lite",
        "//model/src/main/proto:onboarding_java_proto_lite",
        "//model/src/main/proto:profile_java_proto_lite",
        "//model/src/main/proto:question_java_proto_lite",
        "//model/src/main/proto:screens_java_proto_lite",
        "//model/src/main/proto:spotlight_java_proto_lite",
        "//model/src/main/proto:subtitled_html_java_proto_lite",
        "//model/src/main/proto:survey_java_proto_lite",
        "//model/src/main/proto:topic_java_proto_lite",
        "//model/src/main/proto:translation_java_proto_lite",
        "//model/src/main/proto:version_java_proto_lite",
        "//model/src/main/proto:voiceover_java_proto_lite",
        "//third_party:androidx_annotation_annotation",
        "//third_party:androidx_appcompat_appcompat",
        "//third_party:androidx_constraintlayout_constraintlayout",
        "//third_party:androidx_core_core",
        "//third_party:androidx_core_core-ktx",
        "//third_party:androidx_databinding_databinding-common",
        "//third_party:androidx_databinding_databinding-runtime",
        "//third_party:androidx_drawerlayout_drawerlayout",
        "//third_party:androidx_fragment_fragment",
        "//third_party:androidx_lifecycle_lifecycle-livedata",
        "//third_party:androidx_lifecycle_lifecycle-livedata-core",
        "//third_party:androidx_recyclerview_recyclerview",
        "//third_party:androidx_viewpager2_viewpager2",
        "//third_party:com_github_bumptech_glide_glide",
        "//third_party:com_github_takusemba_spotlight",
        "//third_party:com_google_android_flexbox_flexbox",
        "//third_party:com_google_android_material_material",
        "//third_party:com_google_guava_guava",
        "//third_party:com_google_protobuf_protobuf-javalite",
        "//third_party:javax_inject_javax_inject",
        "//third_party:kotlinx-coroutines-core-jvm",
        "//third_party:nl_dionsegijn_konfetti",
        "//utility/src/main/java/org/oppia/android/util/accessibility",
        "//utility/src/main/java/org/oppia/android/util/data:async_result",
        "//utility/src/main/java/org/oppia/android/util/data:data_provider",
        "//utility/src/main/java/org/oppia/android/util/data:data_providers",
        "//utility/src/main/java/org/oppia/android/util/extensions:bundle_extensions",
        "//utility/src/main/java/org/oppia/android/util/gcsresource:annotations",
        "//utility/src/main/java/org/oppia/android/util/locale:oppia_locale",
        "//utility/src/main/java/org/oppia/android/util/logging:current_app_screen_name_intent_decorator",
        "//utility/src/main/java/org/oppia/android/util/networking:connection_status",
        "//utility/src/main/java/org/oppia/android/util/networking:network_connection_debug_util",
        "//utility/src/main/java/org/oppia/android/util/networking:network_connection_util",
        "//utility/src/main/java/org/oppia/android/util/parser/html:exploration_html_parser_entity_type",
        "//utility/src/main/java/org/oppia/android/util/parser/html:html_parser",
        "//utility/src/main/java/org/oppia/android/util/parser/html:policy_type",
        "//utility/src/main/java/org/oppia/android/util/platformparameter",
        "//utility/src/main/java/org/oppia/android/util/statusbar:status_bar_color",
        "//utility/src/main/java/org/oppia/android/util/system:oppia_clock",
        "//utility/src/main/java/org/oppia/android/util/threading:annotations",
    ],
)

# Library that builds test-only source files.

# All app-specific files that are only used for testing
# purposes but are not tests should be included in this list. These files should not be included in
# the app library or the final binary but should be dependencies for tests.

# Place your file here if:
#  - It is not a test file
#  - Only test files depend on it

oppia_android_library(
    name = "test_deps",
    testonly = True,
    srcs = [
        "src/sharedTest/java/org/oppia/android/app/recyclerview/RecyclerViewMatcher.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/ClickActions.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/DragViewAction.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/DrawableMatcher.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/EspressoTestsMatchers.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/FontSizeMatcher.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/OrientationChangeAction.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/ProgressMatcher.kt",
        "src/sharedTest/java/org/oppia/android/app/utility/TabMatcher.kt",
    ],
    visibility = [
        ":app_testing_visibility",
        "//app:__subpackages__",
    ],
    deps = [
        "//third_party:androidx_annotation_annotation",
        "//third_party:androidx_recyclerview_recyclerview",
        "//third_party:androidx_test_espresso_espresso-contrib",
        "//third_party:androidx_test_espresso_espresso-core",
        "//third_party:com_google_android_material_material",
        "//third_party:org_hamcrest_hamcrest-core",
    ],
)

# TODO(#1607): Remove this shared library once everything is modularized.
oppia_android_library(
    name = "_combined_test_lib_do_not_depend",
    testonly = True,
    srcs = glob([
        "src/test/java/org/oppia/android/app/**/*Test.kt",
        "src/sharedTest/java/org/oppia/android/app/**/*Test.kt",
    ]),
    android_merge_deps = [
        ":resources",
        ":crashlytics_deps",
        "//config/src/java/org/oppia/android/config:all_languages_config",
        "//domain:assets",
    ],
    deps = [
        ":app",
        ":listeners",
        ":test_deps",
        ":view_models",
        ":views",
        "//:dagger",
        "//app/src/main/java/org/oppia/android/app/activity:activity_component",
        "//app/src/main/java/org/oppia/android/app/activity:activity_component_factory",
        "//app/src/main/java/org/oppia/android/app/activity:activity_scope",
        "//app/src/main/java/org/oppia/android/app/application:application_component",
        "//app/src/main/java/org/oppia/android/app/application:application_injector",
        "//app/src/main/java/org/oppia/android/app/application:application_injector_provider",
        "//app/src/main/java/org/oppia/android/app/application:modules",
        "//app/src/main/java/org/oppia/android/app/application/testing:testing_build_flavor_module",
        "//app/src/main/java/org/oppia/android/app/databinding:databinding_resources",
        "//app/src/main/java/org/oppia/android/app/fragment:fragment_component",
        "//app/src/main/java/org/oppia/android/app/fragment:fragment_scope",
        "//app/src/main/java/org/oppia/android/app/fragment:injectable_dialog_fragment",
        "//app/src/main/java/org/oppia/android/app/shim:prod_modules",
        "//app/src/main/java/org/oppia/android/app/spotlight",
        "//app/src/main/java/org/oppia/android/app/testing/activity:test_activity",
        "//app/src/main/java/org/oppia/android/app/translation:app_language_locale_handler",
        "//app/src/main/java/org/oppia/android/app/translation:app_language_resource_handler",
        "//app/src/main/java/org/oppia/android/app/translation/testing:test_activity_recreator",
        "//app/src/main/java/org/oppia/android/app/translation/testing:test_module",
        "//app/src/main/java/org/oppia/android/app/utility/datetime:date_time_util",
        "//data/src/main/java/org/oppia/android/data/backends/gae:network_config_annotations",
        "//data/src/main/java/org/oppia/android/data/backends/gae:network_config_prod_module",
        "//data/src/main/java/org/oppia/android/data/backends/gae:network_interceptors",
        "//data/src/main/java/org/oppia/android/data/backends/gae:oppia_retrofit",
        "//data/src/main/java/org/oppia/android/data/backends/gae:prod_module",
        "//data/src/main/java/org/oppia/android/data/backends/gae/api",
        "//domain",
        "//domain/src/main/java/org/oppia/android/domain/audio:audio_player_controller",
        "//domain/src/main/java/org/oppia/android/domain/classify:interactions_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/algebraicexpressioninput:algebraic_expression_input_rule_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/continueinteraction:continue_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/dragAndDropSortInput:drag_and_drop_sort_input_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/fractioninput:fraction_input_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/imageClickInput:image_click_input_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/itemselectioninput:item_selection_input_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/mathequationinput:math_equation_input_rule_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/multiplechoiceinput:multiple_choice_input_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/numberwithunits:number_with_units_rule_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/numericexpressioninput:numeric_expression_input_rule_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/numericinput:numeric_input_rule_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/ratioinput:ratio_input_module",
        "//domain/src/main/java/org/oppia/android/domain/classify/rules/textinput:text_input_rule_module",
        "//domain/src/main/java/org/oppia/android/domain/exploration/testing:fake_exploration_retriever",
        "//domain/src/main/java/org/oppia/android/domain/exploration/testing:test_module",
        "//domain/src/main/java/org/oppia/android/domain/onboarding:retriever_prod_module",
        "//domain/src/main/java/org/oppia/android/domain/onboarding:state_controller",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger:oppia_logger",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger:prod_module",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/analytics:analytics_startup_listener",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/analytics:controller",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/analytics:cpu_module",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/analytics:prod_module",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/logscheduler:metric_log_scheduler_module",
        "//domain/src/main/java/org/oppia/android/domain/oppialogger/loguploader:worker_module",
        "//domain/src/main/java/org/oppia/android/domain/profile:profile_management_controller",
        "//domain/src/main/java/org/oppia/android/domain/spotlight:spotlight_state_controller",
        "//domain/src/main/java/org/oppia/android/domain/survey:survey_controller",
        "//domain/src/main/java/org/oppia/android/domain/translation:translation_controller",
        "//model/src/main/proto:arguments_java_proto_lite",
        "//model/src/main/proto:event_logger_java_proto_lite",
        "//model/src/main/proto:exploration_checkpoint_java_proto_lite",
        "//model/src/main/proto:exploration_java_proto_lite",
        "//model/src/main/proto:interaction_object_java_proto_lite",
        "//model/src/main/proto:languages_java_proto_lite",
        "//model/src/main/proto:math_java_proto_lite",
        "//model/src/main/proto:platform_parameter_java_proto_lite",
        "//model/src/main/proto:profile_java_proto_lite",
        "//model/src/main/proto:screens_java_proto_lite",
        "//model/src/main/proto:spotlight_java_proto_lite",
        "//model/src/main/proto:subtitled_html_java_proto_lite",
        "//model/src/main/proto:survey_java_proto_lite",
        "//model/src/main/proto:thumbnail_java_proto_lite",
        "//model/src/main/proto:topic_java_proto_lite",
        "//testing",
        "//testing/src/main/java/org/oppia/android/testing/data:data_provider_test_monitor",
        "//testing/src/main/java/org/oppia/android/testing/espresso:edit_text_input_action",
        "//testing/src/main/java/org/oppia/android/testing/espresso:generic_view_matchers",
        "//testing/src/main/java/org/oppia/android/testing/espresso:image_view_matcher",
        "//testing/src/main/java/org/oppia/android/testing/espresso:konfetti_view_matcher",
        "//testing/src/main/java/org/oppia/android/testing/espresso:text_input_action",
        "//testing/src/main/java/org/oppia/android/testing/firebase:test_authentication_module",
        "//testing/src/main/java/org/oppia/android/testing/junit:define_app_language_locale_context",
        "//testing/src/main/java/org/oppia/android/testing/junit:initialize_default_locale_rule",
        "//testing/src/main/java/org/oppia/android/testing/logging:event_log_subject",
        "//testing/src/main/java/org/oppia/android/testing/mockito",
        "//testing/src/main/java/org/oppia/android/testing/network",
        "//testing/src/main/java/org/oppia/android/testing/network:test_module",
        "//testing/src/main/java/org/oppia/android/testing/platformparameter:test_module",
        "//testing/src/main/java/org/oppia/android/testing/robolectric:is_on_robolectric",
        "//testing/src/main/java/org/oppia/android/testing/robolectric:test_module",
        "//testing/src/main/java/org/oppia/android/testing/threading:coroutine_executor_service",
        "//testing/src/main/java/org/oppia/android/testing/threading:test_coroutine_dispatchers",
        "//testing/src/main/java/org/oppia/android/testing/threading:test_module",
        "//testing/src/main/java/org/oppia/android/testing/time:fake_oppia_clock",
        "//testing/src/main/java/org/oppia/android/testing/time:test_module",
        "//third_party:androidx_annotation_annotation",
        "//third_party:androidx_appcompat_appcompat",
        "//third_party:androidx_constraintlayout_constraintlayout",
        "//third_party:androidx_core_core",
        "//third_party:androidx_core_core-ktx",
        "//third_party:androidx_databinding_databinding-common",
        "//third_party:androidx_databinding_databinding-runtime",
        "//third_party:androidx_drawerlayout_drawerlayout",
        "//third_party:androidx_fragment_fragment",
        "//third_party:androidx_lifecycle_lifecycle-livedata-core",
        "//third_party:androidx_navigation_navigation-ui",
        "//third_party:androidx_recyclerview_recyclerview",
        "//third_party:androidx_test_core",
        "//third_party:androidx_test_espresso_espresso-contrib",
        "//third_party:androidx_test_espresso_espresso-core",
        "//third_party:androidx_test_espresso_espresso-intents",
        "//third_party:androidx_test_ext_junit",
        "//third_party:androidx_test_rules",
        "//third_party:androidx_viewpager2_viewpager2",
        "//third_party:androidx_work_work-runtime",
        "//third_party:androidx_work_work-runtime-ktx",
        "//third_party:androidx_work_work-testing",
        "//third_party:com_github_bumptech_glide_glide",
        "//third_party:com_github_bumptech_glide_mocks",
        "//third_party:com_google_android_material_material",
        "//third_party:com_google_guava_guava",
        "//third_party:com_google_protobuf_protobuf-javalite",
        "//third_party:com_google_truth_truth",
        "//third_party:com_squareup_okhttp3_okhttp",
        "//third_party:com_squareup_retrofit2_converter-moshi",
        "//third_party:com_squareup_retrofit2_retrofit",
        "//third_party:com_squareup_retrofit2_retrofit-mock",
        "//third_party:javax_inject_javax_inject",
        "//third_party:junit_junit",
        "//third_party:kotlinx-coroutines-core-jvm",
        "//third_party:org_hamcrest_hamcrest-core",
        "//third_party:org_hamcrest_hamcrest-library",
        "//third_party:org_mockito_mockito-core",
        "//third_party:org_robolectric_annotations",
        "//third_party:org_robolectric_shadows-framework",
        "//utility:resources",
        "//utility/src/main/java/org/oppia/android/util/accessibility",
        "//utility/src/main/java/org/oppia/android/util/accessibility:test_module",
        "//utility/src/main/java/org/oppia/android/util/accessibility:testing",
        "//utility/src/main/java/org/oppia/android/util/caching:annotations",
        "//utility/src/main/java/org/oppia/android/util/caching:asset_prod_module",
        "//utility/src/main/java/org/oppia/android/util/caching/testing:caching_test_module",
        "//utility/src/main/java/org/oppia/android/util/data:async_result",
        "//utility/src/main/java/org/oppia/android/util/data:data_provider",
        "//utility/src/main/java/org/oppia/android/util/data:data_providers",
        "//utility/src/main/java/org/oppia/android/util/extensions:bundle_extensions",
        "//utility/src/main/java/org/oppia/android/util/extensions:context_extensions",
        "//utility/src/main/java/org/oppia/android/util/gcsresource:annotations",
        "//utility/src/main/java/org/oppia/android/util/gcsresource:prod_module",
        "//utility/src/main/java/org/oppia/android/util/locale:android_locale_factory",
        "//utility/src/main/java/org/oppia/android/util/locale:impl",
        "//utility/src/main/java/org/oppia/android/util/locale:oppia_bidi_formatter",
        "//utility/src/main/java/org/oppia/android/util/locale:oppia_locale",
        "//utility/src/main/java/org/oppia/android/util/locale:prod_module",
        "//utility/src/main/java/org/oppia/android/util/logging:annotations",
        "//utility/src/main/java/org/oppia/android/util/logging:current_app_screen_name_intent_decorator",
        "//utility/src/main/java/org/oppia/android/util/logging:event_logger",
        "//utility/src/main/java/org/oppia/android/util/logging:exception_logger",
        "//utility/src/main/java/org/oppia/android/util/logging:log_level",
        "//utility/src/main/java/org/oppia/android/util/logging:prod_module",
        "//utility/src/main/java/org/oppia/android/util/logging:standard_event_logging_configuration_module",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:debug_event_logger",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:debug_firestore_logger_impl",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:firestore_logger",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:firestore_wrapper",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:prod_module",
        "//utility/src/main/java/org/oppia/android/util/logging/performancemetrics:performance_metrics_assessor_module",
        "//utility/src/main/java/org/oppia/android/util/logging/performancemetrics:performance_metrics_configurations_module",
        "//utility/src/main/java/org/oppia/android/util/logging/performancemetrics:performance_metrics_event_logger",
        "//utility/src/main/java/org/oppia/android/util/math:fraction_parser",
        "//utility/src/main/java/org/oppia/android/util/networking:debug_module",
        "//utility/src/main/java/org/oppia/android/util/networking:debug_util_module",
        "//utility/src/main/java/org/oppia/android/util/networking:network_connection_util",
        "//utility/src/main/java/org/oppia/android/util/parser/html:html_parser",
        "//utility/src/main/java/org/oppia/android/util/parser/html:html_parser_entity_type_module",
        "//utility/src/main/java/org/oppia/android/util/parser/html:list_item_leading_margin_span",
        "//utility/src/main/java/org/oppia/android/util/parser/html:policy_type",
        "//utility/src/main/java/org/oppia/android/util/parser/image:glide_image_loader_module",
        "//utility/src/main/java/org/oppia/android/util/parser/image:image_loader",
        "//utility/src/main/java/org/oppia/android/util/parser/image:image_parsing_module",
        "//utility/src/main/java/org/oppia/android/util/parser/image:image_transformation",
        "//utility/src/main/java/org/oppia/android/util/parser/image:test_glide_image_loader",
        "//utility/src/main/java/org/oppia/android/util/parser/math:math_latex_model",
        "//utility/src/main/java/org/oppia/android/util/platformparameter",
        "//utility/src/main/java/org/oppia/android/util/threading:annotations",
    ],
)

[oppia_android_test(
    name = test_file_path[:test_file_path.find(".kt")] if "/" in test_file_path else test_file_path,
    srcs = [],
    temp_test_class_migration = test_file_path[test_file_path.find("src/test/java/") + len("src/test/java/"):test_file_path.find(".kt")].replace("/", "."),
    deps = [":_combined_test_lib_do_not_depend"],
) for test_file_path in glob(["src/test/java/org/oppia/android/app/**/*Test.kt"])]

[oppia_android_test(
    name = test_file_path[:test_file_path.find(".kt")] if "/" in test_file_path else test_file_path,
    srcs = [],
    temp_test_class_migration = test_file_path[test_file_path.find("src/sharedTest/java/") + len("src/sharedTest/java/"):test_file_path.find(".kt")].replace("/", "."),
    deps = [":_combined_test_lib_do_not_depend"],
) for test_file_path in glob(["src/sharedTest/java/org/oppia/android/app/**/*Test.kt"])]

# TODO(#1566): Move Firebase rules to their own package & remove default visibility
# Package for all Firebase dependencies.
# To reference these dependencies, add '//app:crashlytics' and '//app:crashlytics_deps'
# to your build rule's dependency list.

crashlytics_android_library(
    name = "_crashlytics",
    package_name = "org.oppia.android",
    build_id = "48fc9d17-e102-444c-8e0d-638d75ec0942",
    resource_files = google_services_xml(
        package_name = "org.oppia.android",
        google_services_json = "google-services.json",
    ),
)

android_library(
    name = "crashlytics_deps",
    visibility = [
        "//:oppia_binary_visibility",
        "//:oppia_testing_visibility",
        "//instrumentation:__pkg__",
        "//utility/src/main/java/org/oppia/android/util/logging/firebase:__pkg__",
    ],
    exports = [
        ":_crashlytics",
        "//third_party:com_google_firebase_firebase-crashlytics",
    ],
)
